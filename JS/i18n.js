const translations = {
    en: {
        "title.home": "Ethiopis - Home",
        "title.about": "Ethiopis - About",
        "title.register": "Ethiopis - Register",
        "title.login": "Ethiopis - Login",
        "title.age4_6": "Ethiopis - Age 4-6 Learning",
        "title.age7_9": "Ethiopis - Age 7-9 Learning",
        "title.age10_12": "Ethiopis - Age 10-12 Learning",
        "nav.home": "Home",
        "nav.about": "About",
        "nav.login": "Login",
        "nav.register": "Register",
        "nav.back": "Back",
        "nav.logout": "Logout",
        "home.welcome": "Welcome to Ethiopis",
        "home.tagline": "Your Kid's E-Learning Platform in Ethiopia.",
        "home.about_button": "About Us",
        "about.title": "About Ethiopis",
        "about.image_alt": "Ethiopis team working with children",
        "about.paragraph1": "Ethiopis is an e-learning platform designed to provide engaging and educational content for children aged 4-12 in Ethiopia. Our mission is to make learning fun and accessible, fostering a love for knowledge from an early age.",
        "about.paragraph2": "We offer a wide range of activities, including games, stories, and quizzes, tailored to different age groups. Our content is carefully curated to align with educational standards and promote cognitive development.",
        "footer.copyright": "Â© 2025 Ethiopis. All rights reserved.",
        "footer.learning_portal": "Learning Portal",
        "register.title": "Parent Registration",
        "register.subtitle": "Create an account to register your child for Ethiopis",
        "register.parent_info": "Parent Information",
        "register.parent_name": "Parent Full Name",
        "register.phone": "Phone Number",
        "register.phone_error": "Please enter a valid Ethiopian phone number (e.g. +251911223344, +251711223344, 0911223344 or 0711223344)",
        "register.phone_exists": "This phone number is already registered. Please login or use a different number.",
        "register.password": "Password",
        "register.password_error": "Password must be at least 5 characters",
        "register.confirm_password": "Confirm Password",
        "register.confirm_error": "Passwords do not match",
        "register.child_info": "Child Information",
        "register.child_name": "Child Full Name",
        "register.age_group": "Age Group",
        "register.age_4_6": "4-6",
        "register.age_preschool": "Preschool & Kindergarten",
        "register.age_7_9": "7-9",
        "register.age_lower": "Lower Primary",
        "register.age_10_12": "10-12",
        "register.age_upper": "Upper Primary",
        "register.submit": "Register My Child",
        "register.have_account": "Already have an account?",
        "register.login_link": "Login here",
        "register.success": "Registration successful! Redirecting to login...",
        "register.age_group_error": "Please select an age group for your child",
        "login.title": "Parent Login",
        "login.subtitle": "Access your account to manage your child's learning",
        "login.phone": "Phone Number",
        "login.phone_error": "Please enter a valid Ethiopian phone number (e.g. +251911223344, +251711223344, 0911223344 or 0711223344)",
        "login.password": "Password",
        "login.password_error": "Please enter your password",
        "login.submit": "Login",
        "login.no_account": "Don't have an account?",
        "login.register_link": "Register here",
        "login.success": "Login successful! Redirecting...",
        "login.registration_success": "Registration successful! Please login with your credentials.",
        "login.invalid_credentials": "Invalid phone number or password. Please try again.",
        "password.toggle": "Toggle password visibility",
        "language.toggle": "Toggle language",
        "language.change": "Language changed to English",
        "session.timeout": "Your session will expire in 2 minutes due to inactivity",
        "session.expired": "Session expired. Please login again.",
        "error.general": "An error occurred. Please try again.",
        "error.network": "Network error. Please check your connection."
    },
    am: {
        "title.home": "áŠ¢á‰µá‹®á’áˆµ - á‹‹áŠ“ áŒˆáŒ½",
        "title.about": "áŠ¢á‰µá‹®á’áˆµ - áˆµáˆˆ áŠ¥áŠ›",
        "title.register": "áŠ¢á‰µá‹®á’áˆµ - áˆá‹áŒˆá‰£",
        "title.login": "áŠ¢á‰µá‹®á’áˆµ - áŒá‰£",
        "title.age4_6": "áŠ¢á‰µá‹®á’áˆµ - 4-6 á‹“áˆ˜á‰µ á‰µáˆáˆ…áˆ­á‰µ",
        "title.age7_9": "áŠ¢á‰µá‹®á’áˆµ - 7-9 á‹“áˆ˜á‰µ á‰µáˆáˆ…áˆ­á‰µ",
        "title.age10_12": "áŠ¢á‰µá‹®á’áˆµ - 10-12 á‹“áˆ˜á‰µ á‰µáˆáˆ…áˆ­á‰µ",
        "nav.home": "á‹‹áŠ“ áŒˆáŒ½",
        "nav.about": "áˆµáˆˆ áŠ¥áŠ›",
        "nav.login": "áŒá‰£",
        "nav.register": "á‹­áˆ˜á‹áŒˆá‰¡",
        "nav.back": "á‰°áˆ˜áˆˆáˆµ",
        "nav.logout": "á‹áŒ£",
        "home.welcome": "á‹ˆá‹° áŠ¢á‰µá‹®á’áˆµ áŠ¥áŠ•áŠ³áŠ• á‰ á‹°áˆ…áŠ“ áˆ˜áŒ¡",
        "home.tagline": "á‹¨áˆáŒ†á‰½á‹Ž á‹¨áŠ¤áˆŒáŠ­á‰µáˆ®áŠ’áŠ­ á‰µáˆáˆ…áˆ­á‰µ áˆ˜á‹µáˆ¨áŠ­ á‰ áŠ¢á‰µá‹®áŒµá‹«",
        "home.about_button": "áˆµáˆˆ áŠ¥áŠ›",
        "about.title": "áˆµáˆˆ áŠ¢á‰µá‹®á’áˆµ",
        "about.image_alt": "á‹¨áŠ¢á‰µá‹®á’áˆµ á‰¡á‹µáŠ• áŠ¨áˆáŒ†á‰½ áŒ‹áˆ­ áŠ¥á‹¨áˆ°áˆ« áŠá‹",
        "about.paragraph1": "áŠ¢á‰µá‹®á’áˆµ áˆˆ4-12 á‹“áˆ˜á‰µ áˆáŒ†á‰½ á‰ áŠ¢á‰µá‹®áŒµá‹« áŠ áˆµá‹°áˆ³á‰½ áŠ¥áŠ“ á‰µáˆáˆ…áˆ­á‰³á‹Š á‹­á‹˜á‰µ áˆˆáˆ›á‰…áˆ¨á‰¥ á‹¨á‰°áˆ°áˆ« á‹¨áŠ¤áˆŒáŠ­á‰µáˆ®áŠ’áŠ­ á‰µáˆáˆ…áˆ­á‰µ áˆ˜á‹µáˆ¨áŠ­ áŠá‹á¢ á‰°áˆáŠ¥áŠ³á‰½áŠ• á‰µáˆáˆ…áˆ­á‰µáŠ• áŠ áˆµá‹°áˆ³á‰½ áŠ¥áŠ“ á‰°á‹°áˆ«áˆ½ áˆ›á‹µáˆ¨áŒ áŠ¥áŠ“ áŠ¨á‰µáŠ•áˆ½ áŠ áŠ«á‰£á‰¢ á‹¨á‹•á‹á‰€á‰µ áá‰…áˆ­áŠ• áˆ›á‰ áˆ¨á‰³á‰³á‰µ áŠá‹á¢",
        "about.paragraph2": "áˆˆá‰°áˆˆá‹«á‹© á‹•á‹µáˆœ áŠ­ááˆŽá‰½ á‹¨á‰°áˆµá‰°áŠ«áŠ¨áˆ‰ áŒ¨á‹‹á‰³á‹Žá‰½á£ á‰³áˆªáŠ®á‰½ áŠ¥áŠ“ á…áŠ•áˆ°-áˆ€áˆ³á‰¦á‰½áŠ• áŒ¨áˆáˆ® áˆ°á‹ á‹«áˆˆ áˆ˜áˆ­áŒƒá‹Žá‰½áŠ• áŠ¥áŠ“á‰€áˆ­á‰£áˆˆáŠ•á¢ á‹­á‹˜á‰³á‰½áŠ• áŠ¨á‰µáˆáˆ…áˆ­á‰³á‹Š á‹°áˆ¨áŒƒá‹Žá‰½ áŒ‹áˆ­ áŠ¥áŠ•á‹²áˆµáˆ›áˆ› á‰ áŒ¥áŠ•á‰ƒá‰„ á‰°á‹˜áŒ‹áŒ…á‰·áˆ áŠ¥áŠ“ á‹¨áŠ¥á‹á‰€á‰µ áŠ¥á‹µáŒˆá‰µáŠ• áˆˆáˆ›á‰ áˆ¨á‰³á‰³á‰µ á‹­á‰³áˆ°á‰£áˆá¢",
        "footer.copyright": "Â© 2025 áŠ¢á‰µá‹®á’áˆµá¢ áˆáˆ‰áˆ áˆ˜á‰¥á‰¶á‰½ á‹¨á‰°áŒ á‰ á‰ áŠ“á‰¸á‹á¢",
        "footer.learning_portal": "á‹¨á‰µáˆáˆ…áˆ­á‰µ áˆ˜á‹µáˆ¨áŠ­",
        "register.title": "á‹¨á‹ˆáˆ‹áŒ… áˆá‹áŒˆá‰£",
        "register.subtitle": "áˆˆáŠ¢á‰µá‹®á’áˆµ áˆáŒ…á‹ŽáŠ• áˆˆáˆ˜áˆ˜á‹áŒˆá‰¥ áˆ˜áˆˆá‹« á‹­ááŒ áˆ©",
        "register.parent_info": "á‹¨á‹ˆáˆ‹áŒ… áˆ˜áˆ¨áŒƒ",
        "register.parent_name": "á‹¨á‹ˆáˆ‹áŒ… áˆ™áˆ‰ áˆµáˆ",
        "register.phone": "áˆµáˆáŠ­ á‰áŒ¥áˆ­",
        "register.phone_error": "áŠ¥á‰£áŠ­á‹Ž á‰µáŠ­áŠ­áˆˆáŠ› á‹¨áŠ¢á‰µá‹®áŒµá‹« áˆµáˆáŠ­ á‰áŒ¥áˆ­ á‹«áˆµáŒˆá‰¡ (áˆˆáˆáˆ³áˆŒ +251911223344, +251711223344, 0911223344 á‹ˆá‹­áˆ 0711223344)",
        "register.phone_exists": "á‹­áˆ… áˆµáˆáŠ­ á‰áŒ¥áˆ­ á‰€á‹µáˆžá‹áŠ‘ á‰°áˆ˜á‹áŒá‰§áˆá¢ áŠ¥á‰£áŠ­á‹Ž á‹­áŒá‰¡ á‹ˆá‹­áˆ áˆŒáˆ‹ á‰áŒ¥áˆ­ á‹­áŒ á‰€áˆ™á¢",
        "register.password": "á‹¨á‹­áˆˆá á‰ƒáˆ",
        "register.password_error": "á‹¨á‹­áˆˆá á‰ƒáˆ‰ á‰¢á‹«áŠ•áˆµ 5 á‰áˆá áˆŠáŠ–áˆ¨á‹ á‹­áŒˆá‰£áˆ",
        "register.confirm_password": "á‹¨á‹­áˆˆá á‰ƒáˆ áŠ áˆ¨áŒ‹áŒáŒ¥",
        "register.confirm_error": "á‹¨á‹­áˆˆá á‰ƒáˆ‹á‰¶á‰½ áŠ áŠ•á‹µ áŠ á‹­áŠá‰µ áŠ á‹­á‹°áˆ‰áˆ",
        "register.child_info": "á‹¨áˆáŒ… áˆ˜áˆ¨áŒƒ",
        "register.child_name": "á‹¨áˆáŒ… áˆ™áˆ‰ áˆµáˆ",
        "register.age_group": "á‹•á‹µáˆœ áŠ­áˆáˆ",
        "register.age_4_6": "4-6",
        "register.age_preschool": "á‰…á‹µáˆ˜ á‰µáˆáˆ…áˆ­á‰µ á‰¤á‰µ áŠ¥áŠ“ áŠªáŠ•á‹°áˆ­áŒ‹áˆ­á‰°áŠ•",
        "register.age_7_9": "7-9",
        "register.age_lower": "á‹¨áˆ˜áŒ€áˆ˜áˆªá‹« á‹°áˆ¨áŒƒ",
        "register.age_10_12": "10-12",
        "register.age_upper": "á‹¨áˆ‹á‹­áŠ›á‹ á‹°áˆ¨áŒƒ",
        "register.submit": "áˆáŒ„áŠ• á‹­áˆ˜á‹áŒˆá‰¡",
        "register.have_account": "á‰€á‹µáˆžá‹áŠ‘ áˆ˜áˆˆá‹« áŠ áˆˆá‹Žá‰µ?",
        "register.login_link": "áŠ¥á‹šáˆ… áŒá‰£",
        "register.success": "áˆá‹áŒˆá‰£á‹ á‰ á‰°áˆ³áŠ« áˆáŠ”á‰³ á‰°áŒ áŠ“á‰…á‰‹áˆ! á‹ˆá‹° áˆ˜áŒá‰¢á‹« á‰ áˆ˜á‰€áŒ áˆ áˆ‹á‹­...",
        "register.age_group_error": "áŠ¥á‰£áŠ­á‹Ž áˆˆáˆáŒ…á‹Ž á‹•á‹µáˆœ áŠ­áˆáˆ á‹­áˆáˆ¨áŒ¡",
        "login.title": "á‹¨á‹ˆáˆ‹áŒ… áˆ˜áŒá‰¢á‹«",
        "login.subtitle": "á‹¨áˆáŒ…á‹ŽáŠ• á‰µáˆáˆ…áˆ­á‰µ áˆˆáˆ˜á‰†áŒ£áŒ áˆ­ á‹ˆá‹° áˆ˜áˆˆá‹«á‹Ž á‹­áŒá‰¡",
        "login.phone": "áˆµáˆáŠ­ á‰áŒ¥áˆ­",
        "login.phone_error": "áŠ¥á‰£áŠ­á‹Ž á‰µáŠ­áŠ­áˆˆáŠ› á‹¨áŠ¢á‰µá‹®áŒµá‹« áˆµáˆáŠ­ á‰áŒ¥áˆ­ á‹«áˆµáŒˆá‰¡ (áˆˆáˆáˆ³áˆŒ +251911223344, +251711223344, 0911223344 á‹ˆá‹­áˆ 0711223344)",
        "login.password": "á‹¨á‹­áˆˆá á‰ƒáˆ",
        "login.password_error": "áŠ¥á‰£áŠ­á‹Ž á‹¨á‹­áˆˆá á‰ƒáˆá‹ŽáŠ• á‹«áˆµáŒˆá‰¡",
        "login.submit": "áŒá‰£",
        "login.no_account": "áˆ˜áˆˆá‹« á‹¨áˆŽá‰µáˆ?",
        "login.register_link": "áŠ¥á‹šáˆ… á‹­áŒá‰¡",
        "login.success": "á‰ á‰°áˆ³áŠ« áˆáŠ”á‰³ áŒˆá‰¥á‰°á‹‹áˆ! áŠ¥á‹¨á‰°á‹›á‹ˆáˆ­áŠ• áŠá‹...",
        "login.registration_success": "áˆá‹áŒˆá‰£á‹ á‰°áŒ áŠ“á‰…á‰‹áˆ! áŠ¥á‰£áŠ­á‹Ž á‹­áŒá‰¡á¢",
        "login.invalid_credentials": "áˆµáˆáŠ­ á‰áŒ¥áˆ­ á‹ˆá‹­áˆ á‹­áˆˆá á‰ƒáˆ á‹¨á‰°áˆ³áˆ³á‰° áŠá‹á¢ áŠ¥á‰£áŠ­á‹Ž áŠ¥áŠ•á‹°áŒˆáŠ“ á‹­áˆžáŠ­áˆ©á¢",
        "password.toggle": "á‹¨á‹­áˆˆá á‰ƒáˆ á‰¥áˆáˆ…áŠá‰µ á‰€á‹­áˆ­",
        "language.toggle": "á‰‹áŠ•á‰‹ á‰€á‹­áˆ­",
        "language.change": "á‰‹áŠ•á‰‹ á‹ˆá‹° áŠ áˆ›áˆ­áŠ› á‰°á‰€á‹­áˆ¯áˆ",
        "session.timeout": "áˆáŠ•áˆ áŠ¥áŠ•á‰…áˆµá‰ƒáˆ´ á‰ áˆ›á‹­áŠ–áˆ­á‰ á‰µ áˆáŠ”á‰³ áŠ¨2 á‹°á‰‚á‰ƒ á‰ áŠ‹áˆ‹ áŠ­áá‰°á‰µá‹Ž á‹­á‰‹áˆ¨áŒ£áˆ",
        "session.expired": "áŠ­áá‰°á‰µá‹Ž áŒŠá‹œá‹ áŠ áˆá‰‹áˆá¢ áŠ¥á‰£áŠ­á‹Ž áŠ¥áŠ•á‹°áŒˆáŠ“ á‹­áŒá‰¡á¢",
        "error.general": "áˆµáˆ…á‰°á‰µ á‰°áŠ¨áˆµá‰·áˆá¢ áŠ¥á‰£áŠ­á‹Ž áŠ¥áŠ•á‹°áŒˆáŠ“ á‹­áŒá‰¡",
        "error.network": "á‹¨áŠ”á‰µá‹ˆáˆ­áŠ­ áˆµáˆ…á‰°á‰µá¢ áŠ¥á‰£áŠ­á‹Ž áŒáŠ•áŠ™áŠá‰µá‹ŽáŠ• á‹«áˆ¨áŒ‹áŒáŒ¡á¢"
    }
};

let currentLanguage = 'en';
let inactivityTimer;
const SESSION_TIMEOUT = 15 * 60 * 1000; // 15 minutes
const WARNING_TIMEOUT = 13 * 60 * 1000; // Show warning at 13 minutes

// Initialize language and other features
document.addEventListener('DOMContentLoaded', () => {
    initializeLanguage();
    setupSessionTimeout();
    setupPasswordVisibilityToggle();
    setupAccessibilityFeatures();
});

function setupAccessibilityFeatures() {
    // Add aria-labels to interactive elements
    document.querySelectorAll('button, a, input').forEach(element => {
        if (!element.hasAttribute('aria-label')) {
            const text = element.textContent.trim() || element.getAttribute('placeholder') || '';
            if (text) {
                element.setAttribute('aria-label', text);
            }
        }
    });

    // Add focus styles for keyboard navigation
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Tab') {
            document.body.classList.add('keyboard-navigation');
        }
    });

    document.addEventListener('mousedown', () => {
        document.body.classList.remove('keyboard-navigation');
    });
}

function setupPasswordVisibilityToggle() {
    const passwordFields = document.querySelectorAll('input[type="password"]');
    
    passwordFields.forEach(passwordField => {
        const wrapper = document.createElement('div');
        wrapper.className = 'password-wrapper';
        wrapper.style.position = 'relative';
        
        passwordField.parentNode.insertBefore(wrapper, passwordField);
        wrapper.appendChild(passwordField);
        
        const eyeIcon = document.createElement('button');
        eyeIcon.className = 'password-toggle';
        eyeIcon.type = 'button';
        eyeIcon.innerHTML = 'ðŸ‘ï¸';
        eyeIcon.setAttribute('aria-label', translations[currentLanguage]['password.toggle'] || 'Toggle password visibility');
        eyeIcon.style.position = 'absolute';
        eyeIcon.style.right = '10px';
        eyeIcon.style.top = '50%';
        eyeIcon.style.transform = 'translateY(-50%)';
        eyeIcon.style.cursor = 'pointer';
        eyeIcon.style.userSelect = 'none';
        eyeIcon.style.background = 'none';
        eyeIcon.style.border = 'none';
        eyeIcon.style.padding = '0';
        
        wrapper.appendChild(eyeIcon);
        
        eyeIcon.addEventListener('click', () => {
            if (passwordField.type === 'password') {
                passwordField.type = 'text';
                eyeIcon.innerHTML = 'ðŸ‘ï¸â€ðŸ—¨ï¸';
                eyeIcon.setAttribute('aria-pressed', 'true');
            } else {
                passwordField.type = 'password';
                eyeIcon.innerHTML = 'ðŸ‘ï¸';
                eyeIcon.setAttribute('aria-pressed', 'false');
            }
        });
    });
}

function initializeLanguage() {
    const savedLanguage = localStorage.getItem('preferredLanguage');
    const browserLanguage = navigator.language.split('-')[0];
    
    currentLanguage = savedLanguage || 
                     (translations[browserLanguage] ? browserLanguage : 'en');
    
    updatePageText();
    
    const toggleButtons = document.querySelectorAll('.language-toggle');
    toggleButtons.forEach(button => {
        button.addEventListener('click', toggleLanguage);
        button.setAttribute('aria-label', translations[currentLanguage]['language.toggle'] || 'Toggle language');
    });
}

function updatePageText() {
    const elements = document.querySelectorAll('[data-i18n]');
    
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[currentLanguage][key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[currentLanguage][key];
                if (!element.id.includes('password')) {
                    element.setAttribute('aria-label', translations[currentLanguage][key]);
                }
            } else if (element.tagName === 'IMG' && element.hasAttribute('alt')) {
                element.alt = translations[currentLanguage][key];
            } else {
                element.textContent = translations[currentLanguage][key];
            }
        } else {
            console.warn(`Missing translation for key: ${key} in language: ${currentLanguage}`);
        }
    });
    
    // Update the language toggle button text
    const toggleButtons = document.querySelectorAll('.language-toggle');
    toggleButtons.forEach(button => {
        button.textContent = currentLanguage === 'en' ? 'EN | áŠ áˆ›' : 'áŠ áˆ› | EN';
        button.setAttribute('aria-label', translations[currentLanguage]['language.toggle'] || 'Toggle language');
    });
    
    // Special handling for age group pages
    if (window.location.pathname.includes('age-')) {
        const ageGroup = window.location.pathname.split('-')[1].split('.')[0];
        document.title = translations[currentLanguage][`title.age${ageGroup.replace('_', '')}`] || document.title;
    }
}

function toggleLanguage() {
    currentLanguage = currentLanguage === 'en' ? 'am' : 'en';
    localStorage.setItem('preferredLanguage', currentLanguage);
    
    showNotification(translations[currentLanguage]['language.change']);
    
    // Smooth transition effect
    document.body.style.opacity = '0';
    setTimeout(() => {
        updatePageText();
        document.body.style.opacity = '1';
    }, 150);
    
    resetInactivityTimer();
}

function setupSessionTimeout() {
    const events = ['mousemove', 'keypress', 'scroll', 'click', 'touchstart', 'mousedown'];
    events.forEach(event => {
        document.addEventListener(event, resetInactivityTimer);
    });
    
    resetInactivityTimer();
}

function resetInactivityTimer() {
    clearTimeout(inactivityTimer);
    
    inactivityTimer = setTimeout(() => {
        showNotification(translations[currentLanguage]['session.timeout'], 'warning');
    }, WARNING_TIMEOUT);
    
    inactivityTimer = setTimeout(() => {
        showNotification(translations[currentLanguage]['session.expired'], 'error');
        // In a real app, you would redirect to login:
        // window.location.href = 'login.html?session_expired=true';
    }, SESSION_TIMEOUT);
}

function showNotification(message, type = 'info', duration = 3000) {
    const existingNotification = document.querySelector('.notification');
    if (existingNotification) {
        existingNotification.remove();
    }
    
    const notification = document.createElement('div');
    notification.className = `notification notification-${type}`;
    notification.textContent = message;
    notification.setAttribute('role', 'alert');
    notification.setAttribute('aria-live', 'polite');
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.classList.add('show');
    }, 10);
    
    setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
            notification.remove();
        }, 300);
    }, duration);
}

function addNotificationStyles() {
    const style = document.createElement('style');
    style.textContent = `
        .notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 24px;
            border-radius: 4px;
            color: white;
            font-weight: 500;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
            max-width: 90%;
            text-align: center;
        }
        
        .notification.show {
            opacity: 1;
            transform: translateX(-50%) translateY(-10px);
        }
        
        .notification-info {
            background-color: var(--primary-color);
        }
        
        .notification-success {
            background-color: #2ecc71;
        }
        
        .notification-warning {
            background-color: #f39c12;
        }
        
        .notification-error {
            background-color: #e74c3c;
        }
        
        .password-wrapper {
            position: relative;
            width: 100%;
        }
        
        .password-toggle {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            user-select: none;
            font-size: 1.2em;
            background: none;
            border: none;
            padding: 0;
        }
        
        input[type="password"], 
        input[type="text"] {
            padding-right: 40px !important;
            width: 100%;
        }
        
        /* Accessibility improvements */
        .keyboard-navigation *:focus {
            outline: 2px solid var(--primary-color);
            outline-offset: 2px;
        }
        
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }
    `;
    document.head.appendChild(style);
}

// Add styles when script loads
if (!document.querySelector('style[data-i18n-styles]')) {
    addNotificationStyles();
}

// Export for use in other modules if needed
if (typeof module !== 'undefined' && module.exports) {
    module.exports = {
        translations,
        currentLanguage,
        toggleLanguage
    };
}